(this["webpackJsonpreact-1"]=this["webpackJsonpreact-1"]||[]).push([[3],{291:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var c=s(3),i=s(1),r=(s(0),s(11)),n=s(16),o=function(e){return{isAuth:e.auth.isAuth}},a=function(e){return Object(n.b)(o)((function(t){return t.isAuth?Object(i.jsx)(e,Object(c.a)({},t)):Object(i.jsx)(r.a,{to:"/login"})}))}},293:function(e,t,s){e.exports={postsBlock:"MyPosts_postsBlock__1NZiX"}},294:function(e,t,s){e.exports={item:"Post_item__1wtiL"}},295:function(e,t,s){e.exports={bg:"ProfileInfo_bg__9HBvp",ava:"ProfileInfo_ava__3xWM0",descriptionBlock:"ProfileInfo_descriptionBlock__2-69g",contact:"ProfileInfo_contact__1CyLP"}},297:function(e,t,s){"use strict";s.r(t);var c=s(3),i=s(1),r=s(39),n=s(69),o=s(42),a=s(41),j=s(0),l=s.n(j),u=s(16),b=s(11),d=s(10),f=s(100),O=s(291),h=s(293),p=s.n(h),m=s(294),v=s.n(m),x=function(e){return Object(i.jsxs)("div",{className:v.a.item,children:[Object(i.jsx)("img",{className:"avatar",alt:"avatar",src:"https://image.shutterstock.com/image-vector/man-shirt-tie-businessman-avatar-260nw-548848999.jpg"}),Object(i.jsx)("p",{children:e.message}),Object(i.jsxs)("p",{children:["Like ",e.likesCount]})]})},g=s(92),P=s(133),k=s(51),w=s(30),S=Object(k.a)(15),_=Object(P.a)({form:"profileMyPosForm"})((function(e){return Object(i.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(i.jsx)(g.a,{name:"myPostForm",component:w.b,placeholder:"Enter new post",validate:[k.b,S]}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"submit",children:"Add post"})})]})})),y=l.a.memo((function(e){var t=e.posts.map((function(e){return Object(i.jsx)(x,{message:e.message,likesCount:e.likesCount},e.id)}));return Object(i.jsxs)("div",{className:p.a.postsBlock,children:["My posts",Object(i.jsx)(_,{onSubmit:function(t){var s=t.myPostForm;e.addPost(s)}}),Object(i.jsx)("div",{className:p.a.posts,children:t})]})})),N=Object(u.b)((function(e){return{posts:e.profilePage.posts}}),{addPost:f.a})(y),A=s(101),I=s(43),M=s(52),U=s.n(M),F=Object(P.a)({form:"edit-profile"})((function(e){var t=e.profile,s=e.handleSubmit,c=e.error;return Object(i.jsxs)("form",{onSubmit:s,children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"full Name:"}),Object(w.c)([],"fullName",w.a,"Write full Name")]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Looking For A Job:"}),Object(w.c)([],"lookingForAJob",w.a,"",{type:"checkbox"})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Skills:"}),Object(w.c)([],"lookingForAJobDescription",w.b,"Write Skills")]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"about Me:"}),Object(w.c)([],"aboutMe",w.b,"Write about Me")]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"contacts:"})," ",Object.keys(t.contacts).map((function(e){return Object(i.jsx)("div",{children:Object(w.c)([],"contacts.".concat(e),w.a,e)},e)}))]}),c&&Object(i.jsx)("div",{className:U.a.formError,children:c}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{children:"save"})})]})})),C=s(295),B=s.n(C),J=function(e){var t=e.profile,s=e.isOwner,c=e.goToEditMode;return Object(i.jsxs)("div",{className:B.a.description,children:[s&&Object(i.jsx)("div",{children:Object(i.jsx)("button",{onClick:c,children:"edit"})}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"full Name:"})," ",t.fullName]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"about Me:"})," ",t.aboutMe]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Looking For A Job:"})," ",t.lookingForAJob?"yes":"no"]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Skills:"})," ",t.lookingForAJobDescription]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"contacts:"})," ",Object.keys(t.contacts).map((function(e){return Object(i.jsx)(D,{title:e,value:t.contacts[e]},e)}))]})]})},D=function(e){var t=e.title,s=e.value;return Object(i.jsxs)("div",{className:B.a.contact,children:[Object(i.jsxs)("b",{children:[t,":"]}),s]})},E=function(e){var t=Object(j.useState)(!1),s=Object(A.a)(t,2),c=s[0],r=s[1];if(!e.profile)return Object(i.jsx)(I.a,{});return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:Object(i.jsx)("img",{className:B.a.bg,src:"https://reactapp.ir/wp-content/uploads/reactjs.jpg",height:"150px",alt:"react"})}),Object(i.jsxs)("div",{className:B.a.descriptionBlock,children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("img",{className:B.a.ava,src:e.profile.photos.small||"https://www.meme-arsenal.com/memes/0b37d82bcfd11cb3196fa5329f3bff0f.jpg",alt:"ava"}),e.isOwner&&Object(i.jsx)("input",{type:"file",onChange:function(t){var s=t.target.files[0];t.target.files.length&&e.savePhoto(s)}})]}),c?Object(i.jsx)(F,{profile:e.profile,isOwner:e.isOwner,onSubmit:function(t){e.saveProfile(t).then((function(){r(!1)}))},saveProfile:e.saveProfile,initialValues:e.profile}):Object(i.jsx)(J,{isOwner:e.isOwner,goToEditMode:function(){return r(!0)},profile:e.profile})]})]})},L=l.a.memo((function(e){var t=Object(j.useState)(!1),s=Object(A.a)(t,2),c=s[0],r=s[1],n=Object(j.useState)(e.status),o=Object(A.a)(n,2),a=o[0],l=o[1];Object(j.useEffect)((function(){l(e.status)}),[e.status]);return Object(i.jsxs)("div",{children:[!c&&Object(i.jsx)("div",{children:Object(i.jsx)("span",{onDoubleClick:function(){r(!0)},children:e.status||"No status"})}),c&&Object(i.jsx)("div",{children:Object(i.jsx)("input",{autoFocus:!0,value:a,onChange:function(e){l(e.currentTarget.value)},onBlur:function(){r(!1),e.updateUserStatus(a)}})})]})})),W=function(e){return Object(i.jsxs)("div",{children:[Object(i.jsx)(E,{profile:e.profile,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),Object(i.jsx)(L,{status:e.status,updateUserStatus:e.updateUserStatus}),Object(i.jsx)(N,{})]})},T=function(e){Object(o.a)(s,e);var t=Object(a.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(n.a)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId),this.props.getUserProfileInfo(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){e.match.params.userId!==this.props.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(i.jsx)(W,Object(c.a)(Object(c.a)({},this.props),{},{isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto}))}}]),s}(l.a.Component);t.default=Object(d.d)(Object(u.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfileInfo:f.c,getUserStatus:f.d,updateUserStatus:f.g,savePhoto:f.e,saveProfile:f.f}),b.g,O.a)(T)}}]);
//# sourceMappingURL=3.3801acba.chunk.js.map